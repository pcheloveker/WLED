# AAA Fire Effect Usermod

Этот usermod добавляет новый эффект "AAA Fire" в WLED с расширенной функциональностью.

## Описание эффекта

Эффект создает два красных фронта, которые движутся с противоположных концов светодиодной ленты навстречу друг другу. Когда фронты сталкиваются в середине, происходит сброс и эффект начинается заново.

## Особенности

- Два красных фронта по 10 светодиодов каждый
- Плавное гашение фона (fadeToBlackBy)
- Пауза 0.5 секунды при столкновении фронтов
- Задержка между кадрами 10 мс
- **Автоматическое переключение обратно через 20 секунд**
- **Обработка кнопки на GPIO0**
- **Собственный API эндпоинт**

## Функциональность

### 1. Кнопка
- Нажатие кнопки на GPIO0 активирует эффект "AAA Fire"
- Эффект автоматически отключается через 20 секунд
- Возвращается к предыдущему эффекту

### 2. API Эндпоинты
- `POST /aaa_fire` - активировать эффект
- `DELETE /aaa_fire` - остановить эффект
- `GET /aaa_fire` - получить статус эффекта

### 3. Автоматическое переключение
- Эффект сохраняет предыдущий эффект
- Через 20 секунд автоматически возвращается к нему

## Установка

1. Скопируйте папку `aaa_fire_effect` в директорию `usermods/`
2. Добавьте `aaa_fire_effect` в `custom_usermods` в вашем `platformio_override.ini`:

```ini
custom_usermods = aaa_fire_effect
```

3. Скомпилируйте и загрузите прошивку

## Использование

### Через кнопку
- Подключите кнопку к GPIO0 и GND
- Нажмите кнопку для активации эффекта
- Эффект автоматически отключится через 20 секунд

### Через API
```bash
# Активировать эффект
curl -X POST "http://YOUR_WLED_IP/aaa_fire"

# Остановить эффект
curl -X DELETE "http://YOUR_WLED_IP/aaa_fire"

# Получить статус
curl -X GET "http://YOUR_WLED_IP/aaa_fire"
```

## Настройка

В коде можно изменить:
- `buttonPin` - пин для кнопки (по умолчанию GPIO0)
- `effectDuration` - длительность эффекта в миллисекундах (по умолчанию 20000 мс = 20 сек)

## Совместимость

- ESP8266 (включая D1 Mini Pro)
- ESP32
- Все версии WLED
